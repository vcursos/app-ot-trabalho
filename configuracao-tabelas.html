<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configura√ß√£o de Tabelas - OT Telecom</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .config-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }
        .config-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .config-tab {
            padding: 12px 24px;
            background: #f0f0f0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        .config-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .config-section {
            display: none;
        }
        .config-section.active {
            display: block;
        }
        .table-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .servicos-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .servicos-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        .servicos-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        .servicos-table tr:hover {
            background: #f5f5f5;
        }
        .servicos-table input, .servicos-table select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.5;
            min-height: 36px;
        }
        .btn-small {
            padding: 6px 12px;
            font-size: 14px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-add {
            background: #27ae60;
            color: white;
        }
        .btn-add:hover {
            background: #229954;
        }
        .btn-remove {
            background: #e74c3c;
            color: white;
        }
        .btn-remove:hover {
            background: #c0392b;
        }
        .btn-save {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 32px;
            font-size: 16px;
        }
        .btn-import {
            background: #3498db;
            color: white;
        }
        .btn-export {
            background: #95a5a6;
            color: white;
        }
        .multiplicadores-config {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .multiplicadores-config h3 {
            margin-top: 0;
            color: #667eea;
        }
        .mult-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        .mult-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .mult-item label {
            font-weight: 600;
            color: #555;
        }
        .mult-item input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .header-config {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .btn-voltar {
            background: #95a5a6;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 8px;
            display: inline-block;
        }
        .alert-info {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        /* Modal de Edi√ß√£o */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .modal-overlay.active {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }
        .modal-header h3 {
            margin: 0;
            color: #667eea;
        }
        .modal-close {
            background: none;
            border: none;
            font-size: 28px;
            color: #999;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-close:hover {
            color: #e74c3c;
        }
        .modal-field {
            margin-bottom: 20px;
        }
        .modal-field label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        .modal-field input,
        .modal-field select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .modal-field input:focus,
        .modal-field select:focus {
            outline: none;
            border-color: #667eea;
        }
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 24px;
        }
        .modal-actions button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-aplicar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-aplicar:hover {
            opacity: 0.9;
        }
        .btn-cancelar {
            background: #e0e0e0;
            color: #555;
        }
        .btn-cancelar:hover {
            background: #d0d0d0;
        }
        
        /* Bot√£o de editar na tabela (mobile) */
        .btn-edit-mobile {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 6px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-edit-mobile:hover {
            background: #2980b9;
        }
        
        .texto-mobile {
            display: none;
        }
        
        @media (max-width: 768px) {
            .servicos-table input,
            .servicos-table select {
                display: none;
            }
            
            .texto-mobile {
                display: block;
                padding: 10px;
                cursor: pointer;
                line-height: 1.5;
            }
            
            .servicos-table td {
                cursor: pointer;
                padding: 12px 8px;
            }
            
            .servicos-table tr {
                border-bottom: 2px solid #ddd;
            }
            
            .servicos-table tr:active {
                background: #e3f2fd;
            }
            
            .modal-content {
                max-width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="config-container">
        <div class="header-config">
            <h1>‚öôÔ∏è Configura√ß√£o de Tabelas de Pre√ßos</h1>
            <a href="index.html" class="btn-voltar">‚Üê Voltar</a>
        </div>

        <div class="alert-info">
            üí° <strong>Dica:</strong> Configure aqui os servi√ßos e valores que sua empresa utiliza. Voc√™ pode adicionar, editar ou remover itens. As mudan√ßas s√£o salvas automaticamente.
        </div>

        <!-- Configura√ß√£o de Multiplicadores -->
        <div class="multiplicadores-config">
            <h3>üìä Multiplicadores de Valores</h3>
            <div class="mult-grid">
                <div class="mult-item">
                    <label>Domingo/Feriado (multiplicador)</label>
                    <input type="number" id="multDomingoFeriado" step="0.1" value="1.5" placeholder="Ex: 1.5">
                </div>
                <div class="mult-item">
                    <label>Dobrado (multiplicador)</label>
                    <input type="number" id="multDobrado" step="0.1" value="2.0" placeholder="Ex: 2.0">
                </div>
                <div class="mult-item">
                    <label>Normal (multiplicador)</label>
                    <input type="number" id="multNormal" step="0.1" value="1.0" placeholder="1.0" readonly style="background: #f5f5f5;">
                </div>
            </div>
            <button class="btn-small btn-save" style="margin-top: 15px;" onclick="salvarMultiplicadores()">üíæ Salvar Multiplicadores</button>
        </div>

        <!-- Tabs de Categorias -->
        <div class="config-tabs">
            <button class="config-tab active" onclick="mostrarCategoria('instalacoes')">üîß Instala√ß√µes</button>
            <button class="config-tab" onclick="mostrarCategoria('avarias')">‚ö†Ô∏è Avarias</button>
            <button class="config-tab" onclick="mostrarCategoria('adicionais')">‚ûï Adicionais</button>
        </div>

        <!-- Se√ß√£o: Instala√ß√µes -->
        <div id="cat-instalacoes" class="config-section active">
            <h2>üîß Instala√ß√µes</h2>
            <div class="table-controls">
                <button class="btn-small btn-add" onclick="adicionarLinha('instalacoes')">‚ûï Adicionar Servi√ßo</button>
                <button class="btn-small btn-save" onclick="salvarTabela('instalacoes')">üíæ Salvar Tabela</button>
                <button class="btn-small btn-export" onclick="exportarTabela('instalacoes')">üì§ Exportar</button>
                <button class="btn-small btn-import" onclick="document.getElementById('import-instalacoes').click()">üì• Importar</button>
                <input type="file" id="import-instalacoes" accept=".json" style="display:none" onchange="importarTabela('instalacoes', this)">
            </div>
            <div style="overflow-x: auto;">
                <table class="servicos-table" id="table-instalacoes">
                    <thead>
                        <tr>
                            <th style="width: 100px; display: none;">C√≥digo</th>
                            <th>Descri√ß√£o do Servi√ßo</th>
                            <th style="width: 120px;">Valor (‚Ç¨)</th>
                            <th style="width: 100px;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-instalacoes">
                        <!-- Linhas ser√£o inseridas aqui -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Se√ß√£o: Avarias -->
        <div id="cat-avarias" class="config-section">
            <h2>‚ö†Ô∏è Avarias e P√≥s-Venda</h2>
            <div class="table-controls">
                <button class="btn-small btn-add" onclick="adicionarLinha('avarias')">‚ûï Adicionar Servi√ßo</button>
                <button class="btn-small btn-save" onclick="salvarTabela('avarias')">üíæ Salvar Tabela</button>
                <button class="btn-small btn-export" onclick="exportarTabela('avarias')">üì§ Exportar</button>
                <button class="btn-small btn-import" onclick="document.getElementById('import-avarias').click()">üì• Importar</button>
                <input type="file" id="import-avarias" accept=".json" style="display:none" onchange="importarTabela('avarias', this)">
            </div>
            <div style="overflow-x: auto;">
                <table class="servicos-table" id="table-avarias">
                    <thead>
                        <tr>
                            <th style="width: 100px; display: none;">C√≥digo</th>
                            <th>Descri√ß√£o do Servi√ßo</th>
                            <th style="width: 120px;">Valor (‚Ç¨)</th>
                            <th style="width: 100px;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-avarias">
                        <!-- Linhas ser√£o inseridas aqui -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Se√ß√£o: Adicionais -->
        <div id="cat-adicionais" class="config-section">
            <h2>‚ûï Adicionais</h2>
            <div class="table-controls">
                <button class="btn-small btn-add" onclick="adicionarLinha('adicionais')">‚ûï Adicionar Servi√ßo</button>
                <button class="btn-small btn-save" onclick="salvarTabela('adicionais')">üíæ Salvar Tabela</button>
                <button class="btn-small btn-export" onclick="exportarTabela('adicionais')">üì§ Exportar</button>
                <button class="btn-small btn-import" onclick="document.getElementById('import-adicionais').click()">üì• Importar</button>
                <input type="file" id="import-adicionais" accept=".json" style="display:none" onchange="importarTabela('adicionais', this)">
            </div>
            <div style="overflow-x: auto;">
                <table class="servicos-table" id="table-adicionais">
                    <thead>
                        <tr>
                            <th style="width: 100px; display: none;">C√≥digo</th>
                            <th>Descri√ß√£o do Servi√ßo</th>
                            <th style="width: 120px;">Valor (‚Ç¨)</th>
                            <th style="width: 100px;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="tbody-adicionais">
                        <!-- Linhas ser√£o inseridas aqui -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal de Edi√ß√£o (Mobile) -->
    <div class="modal-overlay" id="modalEdit">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è Editar Servi√ßo</h3>
                <button class="modal-close" onclick="fecharModal()">√ó</button>
            </div>
            
            <div class="modal-field">
                <label>C√≥digo</label>
                <input type="text" id="modal-codigo" placeholder="Ex: INST01">
            </div>
            
            <div class="modal-field">
                <label>Rede</label>
                <select id="modal-rede">
                    <option value="AMBAS">AMBAS</option>
                    <option value="Propia">Propia</option>
                    <option value="MOVISTAR">MOVISTAR</option>
                    <option value="Outra">Outra</option>
                </select>
            </div>
            
            <div class="modal-field">
                <label>Descri√ß√£o do Servi√ßo</label>
                <input type="text" id="modal-descricao" placeholder="Descri√ß√£o completa do servi√ßo">
            </div>
            
            <div class="modal-field">
                <label>Valor (‚Ç¨)</label>
                <input type="number" id="modal-valor" step="0.01" placeholder="0.00">
            </div>
            
            <div class="modal-actions">
                <button class="btn-cancelar" onclick="fecharModal()">Cancelar</button>
                <button class="btn-aplicar" onclick="aplicarEdicao()">‚úì Aplicar</button>
            </div>
        </div>
    </div>

    <script src="js/config-tabelas.js"></script>
</body>
</html>
